{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\n\nexport async function fetchBreeds() {\n  axios.defaults.headers.common['x-api-key'] =\n    'live_DkjqTDSOD0uOwcyk5E7MuJms89zGHMAHzGcGyX0DktQBX5FB2DAgH1fKrExnRumo';\n\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n      position: 'topLeft',\n    });\n    throw error;\n  }\n}\n\nconst baseUrl = 'https://api.thecatapi.com/v1/images/search';\nexport async function fetchCatByBreed(breedId) {\n  const url = `${baseUrl}?breed_ids=${breedId}`;\n  try {\n    const response = await axios.get(url);\n    return response.data[0];\n  } catch (error) {\n    iziToast.settings({\n      title: 'Error',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n      position: 'topLeft',\n    });\n    throw error;\n  }\n}\n","import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nimport Choices from 'choices.js';\nimport iziToast from 'izitoast';\n\nconst elements = {\n  select: document.getElementById('choices'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  info: document.querySelector('.cat-info'),\n};\n\nelements.loader.classList.remove('visually-hidden');\n\nfunction breedsSelect(breeds) {\n  const select = elements.select;\n\n  breeds.forEach(breed => {\n    const option = new Option(breed.name, breed.id);\n    select.add(option);\n  });\n\n  new Choices(select, {\n    itemSelectText: '',\n  });\n}\n\nfetchBreeds()\n  .then(breeds => {\n    elements.select.classList.remove('visually-hidden');\n    elements.loader.classList.add('visually-hidden');\n    breedsSelect(breeds);\n  })\n  .catch(error => {\n    elements.loader.classList.add('visually-hidden');\n    // elements.error.classList.remove('visually-hidden');\n  });\n\nelements.select.addEventListener('change', handlerSelect);\n\nfunction handlerSelect() {\n  elements.info.innerHTML = '';\n  const breedCatId = this.value;\n  elements.loader.classList.remove('visually-hidden');\n  fetchCatByBreed(breedCatId)\n    .then(data => {\n      elements.loader.classList.add('visually-hidden');\n      elements.info.innerHTML = `\n      <div class=\"description\">\n      <div class=\"cat-info__image-wrapper\">\n    <img class=\"cat-info__image\" width=\"400\" src=\"${data.url}\" alt=\"${data.breeds[0].name}\" />\n    </div>\n    <div class=\"text\">\n      <p class=\"cat-info__name\">Breed: ${data.breeds[0].name}</p>\n      <p class=\"cat-info__description\"><span class=\"cat-info__title\">Description: </span>${data.breeds[0].description}</p>\n      <p class=\"cat-info__temperament\"><span class=\"cat-info__title\">Temperament: </span>${data.breeds[0].temperament}</p>\n      </div>\n      </div>\n    `;\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'topLeft',\n      });\n      // elements.info.innerHTML = `<p class=\"error\">Failed to fetch cat information.</p>`;\n    });\n}\n"],"names":["fetchBreeds","axios","error","iziToast","baseUrl","fetchCatByBreed","breedId","url","elements","breedsSelect","breeds","select","breed","option","Choices","handlerSelect","breedCatId","data"],"mappings":"owBAGO,eAAeA,GAAc,CAClCC,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,GAAI,CAEF,OADiB,MAAMA,EAAM,IAAI,qCAAqC,GACtD,IACjB,OAAQC,EAAP,CACA,cAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,SAChB,CAAK,EACKD,CACP,CACH,CAEA,MAAME,EAAU,6CACT,eAAeC,EAAgBC,EAAS,CAC7C,MAAMC,EAAM,GAAGH,eAAqBE,IACpC,GAAI,CAEF,OADiB,MAAML,EAAM,IAAIM,CAAG,GACpB,KAAK,EACtB,OAAQL,EAAP,CACA,MAAAC,EAAS,SAAS,CAChB,MAAO,QACP,QAAS,sDACT,SAAU,SAChB,CAAK,EACKD,CACP,CACH,CC9BA,MAAMM,EAAW,CACf,OAAQ,SAAS,eAAe,SAAS,EACzC,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,EACtC,KAAM,SAAS,cAAc,WAAW,CAC1C,EAEAA,EAAS,OAAO,UAAU,OAAO,iBAAiB,EAElD,SAASC,EAAaC,EAAQ,CAC5B,MAAMC,EAASH,EAAS,OAExBE,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAS,IAAI,OAAOD,EAAM,KAAMA,EAAM,EAAE,EAC9CD,EAAO,IAAIE,CAAM,CACrB,CAAG,EAED,IAAIC,EAAQH,EAAQ,CAClB,eAAgB,EACpB,CAAG,CACH,CAEAX,EAAa,EACV,KAAKU,GAAU,CACdF,EAAS,OAAO,UAAU,OAAO,iBAAiB,EAClDA,EAAS,OAAO,UAAU,IAAI,iBAAiB,EAC/CC,EAAaC,CAAM,CACvB,CAAG,EACA,MAAMR,GAAS,CACdM,EAAS,OAAO,UAAU,IAAI,iBAAiB,CAEnD,CAAG,EAEHA,EAAS,OAAO,iBAAiB,SAAUO,CAAa,EAExD,SAASA,GAAgB,CACvBP,EAAS,KAAK,UAAY,GAC1B,MAAMQ,EAAa,KAAK,MACxBR,EAAS,OAAO,UAAU,OAAO,iBAAiB,EAClDH,EAAgBW,CAAU,EACvB,KAAKC,GAAQ,CACZT,EAAS,OAAO,UAAU,IAAI,iBAAiB,EAC/CA,EAAS,KAAK,UAAY;AAAA;AAAA;AAAA,oDAGoBS,EAAK,aAAaA,EAAK,OAAO,GAAG;AAAA;AAAA;AAAA,yCAG5CA,EAAK,OAAO,GAAG;AAAA,2FACmCA,EAAK,OAAO,GAAG;AAAA,2FACfA,EAAK,OAAO,GAAG;AAAA;AAAA;AAAA,KAI1G,CAAK,EACA,MAAMf,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,SAClB,CAAO,CAEP,CAAK,CACL"}